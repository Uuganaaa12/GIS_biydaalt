# üó∫Ô∏è –£–ª–∞–∞–Ω–±–∞–∞—Ç–∞—Ä —Ö–æ—Ç—ã–Ω –∂—É—É–ª—á–Ω—ã –≥–∞–∑—Ä—ã–Ω –∑—É—Ä–∞–≥ —Å–∏—Å—Ç–µ–º

 Docker –¥—ç—ç—Ä –∞–∂–∏–ª–ª—É—É–ª–∞—Ö –±–∞ Backend –Ω—å Flask + PostGIS, Frontend –Ω—å Leaflet.js –∞—à–∏–≥–ª–∞–Ω –≥–∞–∑—Ä—ã–Ω –∑—É—Ä–∞–≥ –¥“Ø—Ä—Å—ç–ª–¥—ç–≥.


–≠–Ω—ç –Ω—å PostGIS (PostgreSQL + PostGIS) –±–∞ Flask backend-–∏–π–≥ –∞—Å–∞–∞–Ω–∞. `backend/initdb/01_init.sql` —Ñ–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∞–∞—Ä –∞—á–∞–∞–ª–∂, –∂–∏—à—ç—ç —Ü—ç–≥“Ø“Ø–¥–∏–π–≥ —Å—É—É–ª–≥–∞–∂ ”©–≥–Ω”©.

- Backend URL: http://localhost:5001
  - –ê–∂–∏–ª–ª–∞–∂ –±–∞–π–≥–∞–∞ —ç—Å—ç—Ö: GET `/api/health`
  - –¶—ç–≥“Ø“Ø–¥: GET `/places?type=<category>&bbox=minx,miny,maxx,maxy`
  - –ê–Ω–≥–∏–ª–ª—É—É–¥: GET `/categories`
  - –ó–∞–º—á–ª–∞–ª (—à—É–≥–∞–º): GET `/route?start=lon,lat&end=lon,lat`

- Frontend URL: http://localhost:8080

## API —Ç–∞–π–ª–±–∞—Ä

- GET `/api/health` ‚Äî DB —Ö–æ–ª–±–æ–ª—Ç OK —ç—Å—ç—Ö
- POST `/import_geojson` ‚Äî GeoJSON FeatureCollection-–∞–∞—Å `places` —Ä“Ø“Ø –∏–º–ø–æ—Ä—Ç —Ö–∏–π–¥—ç–≥. properties: name, type, description
- GET `/places` ‚Äî GeoJSON FeatureCollection –±—É—Ü–∞–∞–Ω–∞. –ü–∞—Ä–∞–º–µ—Ç—Ä“Ø“Ø–¥:
  - `type` (–∑–∞–∞–≤–∞–ª –±–∏—à) ‚Äî –∞–Ω–≥–∏–ª–∞–ª —à“Ø“Ø—Ö
  - `bbox=minx,miny,maxx,maxy` (–∑–∞–∞–≤–∞–ª –±–∏—à) ‚Äî —Ö–∞—Ä–∞–≥–¥–∞–∂ –±—É–π extent –¥–æ—Ç–æ—Ä—Ö —Ü—ç–≥“Ø“Ø–¥
- GET `/categories` ‚Äî –î–∞–≤—Ç–∞–≥–¥–∞—à–≥“Ø–π –∞–Ω–≥–∏–ª–ª—É—É–¥—ã–Ω –∂–∞–≥—Å–∞–∞–ª—Ç
- GET `/route?start=lon,lat&end=lon,lat` ‚Äî –•–æ—ë—Ä —Ü—ç–≥–∏–π–Ω —Ö–æ–æ—Ä–æ–Ω–¥ —à—É–ª—É—É–Ω —à—É–≥–∞–º—ã–Ω –º–∞—Ä—à—Ä—É—Ç (OSRM —Ö–æ–ª–±–æ–ª—Ç–≥“Ø–π “Ø–µ–¥ —Ç“Ø—Ä –∞—Ä–≥–∞). `distance_m` –º–µ—Ç—Ä—Ç –±—É—Ü–∞–∞–Ω–∞.

## –•”©–≥–∂“Ø“Ø–ª—ç–ª—Ç–∏–π–Ω —Ç—ç–º–¥—ç–≥–ª—ç–ª

- –ú—ç–¥—ç—ç–ª–ª–∏–π–Ω —Å–∞–Ω–≥–∏–π–Ω —Ö–æ–ª–±–æ–æ—Å—ã–≥ `DATABASE_URL` –æ—Ä—á–Ω–æ–æ—Å —É–Ω—à–¥–∞–≥. Docker Compose –Ω—å `postgresql://postgres:postgres@db:5432/ubmap` —É—Ç–≥—ã–≥ ”©–≥–¥”©–≥.
- `geoalchemy2` –±–æ–ª–æ–Ω `shapely` –∞—à–∏–≥–ª–∞–∂ GeoJSON —Ö—É–≤–∏—Ä–≥–∞–ª—Ç —Ö–∏–π—Å—ç–Ω.
- –ò–ª“Ø“Ø –Ω–∞—Ä–∏–π–Ω routing —Ö—ç—Ä—ç–≥—Ç—ç–π –±–æ–ª OSRM —ç—Å–≤—ç–ª Valhalla –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω—ç–º—ç—Ö –±–æ–ª–æ–º–∂—Ç–æ–π.

## –¢“Ø–≥—ç—ç–º—ç–ª –∞—Å—É—É–¥–∞–ª

- M1/M2 Mac –¥—ç—ç—Ä PostGIS image `platform: linux/amd64` –∑–∞–∞—Å–∞–Ω ‚Äî —à–∞–∞—Ä–¥–ª–∞–≥–∞—Ç–∞–π –±–æ–ª —É—Å—Ç–≥–∞–∂ ARM-–¥ —Ç–∞–∞—Ä—É—É–ª–∂ –±–æ–ª–Ω–æ.
- –•—ç—Ä—ç–≤ DB —ç—Ö–ª—ç—Ö–≥“Ø–π –±–æ–ª `pgdata` volume-–∏–π–≥ —Ü—ç–≤—ç—Ä–ª—ç–∂ –¥–∞—Ö–∏–Ω –∞—Å–∞–∞–Ω–∞.



#  –£–ª–∞–∞–Ω–±–∞–∞—Ç–∞—Ä —Ö–æ—Ç—ã–Ω –∂—É—É–ª—á–Ω—ã –≥–∞–∑—Ä—ã–Ω –∑—É—Ä–∞–≥ —Å–∏—Å—Ç–µ–º

**–¢”©—Å–ª–∏–π–Ω –∑–æ—Ä–∏–ª–≥–æ:**  
–ñ—É—É–ª—á–¥–∞–¥ –∑–æ—Ä–∏—É–ª—Å–∞–Ω –£–ª–∞–∞–Ω–±–∞–∞—Ç–∞—Ä —Ö–æ—Ç—ã–Ω –≥–∞–∑—Ä—ã–Ω –∑—É—Ä–∞–≥—Ç —Å—É—É—Ä–∏–ª—Å–∞–Ω –≤—ç–± —Å–∏—Å—Ç–µ–º –±“Ø—Ç—ç—ç—Ö.  
–•—ç—Ä—ç–≥–ª—ç–≥—á–¥—ç–¥ –∑—É—Ä–∞–≥ –∞–≤–∞—Ö —Ç–æ—Ö–∏—Ä–æ–º–∂—Ç–æ–π –≥–∞–∑–∞—Ä, —Ç–æ–º–æ–æ—Ö–æ–Ω —Ä–µ—Å—Ç–æ—Ä–∞–Ω, –±—É—É–¥–ª—É—É–¥—ã–≥ —Ö–∞—Ä—É—É–ª–∂, —ç–¥–≥—ç—ç—Ä —Ä“Ø“Ø –æ—á–∏—Ö **–∑–∞–º—á–ª–∞–ª (routing)** –±–æ–ª–æ–Ω **–±–∞–π—Ä—à–ª—ã–Ω –º—ç–¥—ç—ç–ª—ç–ª** “Ø–∑“Ø“Ø–ª–Ω—ç.

---

##  –ê—à–∏–≥–ª–∞—Å–∞–Ω —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—É–¥

###  Frontend

- **HTML, CSS, JavaScript**
- **Leaflet.js** ‚Äì –≥–∞–∑—Ä—ã–Ω –∑—É—Ä–∞–≥ –¥“Ø—Ä—Å–ª—ç—Ö
- **Nginx** ‚Äì —Å—Ç–∞—Ç–∏–∫ –≤—ç–± —Å–µ—Ä–≤–µ—Ä
- **Fetch API** ‚Äì backend REST API-—Ç–∞–π —Ö–æ–ª–±–æ–≥–¥–æ—Ö

###  Backend

- **Python + Flask** ‚Äì RESTful API
- **SQLAlchemy + GeoAlchemy2** ‚Äì ”©–≥”©–≥–¥–ª–∏–π–Ω —Ö–æ–ª–±–æ–æ—Å
- **PostgreSQL + PostGIS** ‚Äì –≥–µ–æ ”©–≥”©–≥–¥”©–ª —Ö–∞–¥–≥–∞–ª–∞—Ö
- **Flask-CORS** ‚Äì CORS —Ö–æ–ª–±–æ–ª—Ç

###  –û—Ä—á–∏–Ω

- **Docker & Docker Compose** ‚Äì –æ—Ä—á–Ω—ã —Ç—É—Å–≥–∞–∞—Ä–ª–∞–ª
- **OSM / GeoJSON** ‚Äì –≥–∞–∑—Ä—ã–Ω –º—ç–¥—ç—ç–ª—ç–ª

---

##  –¢”©—Å–ª–∏–π–Ω –±“Ø—Ç—ç—Ü

tourist-map-ub/
‚îÇ
‚îú‚îÄ‚îÄ frontend/ # –í—ç–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ ‚îú‚îÄ‚îÄ index.html
‚îÇ ‚îú‚îÄ‚îÄ script.js
‚îÇ ‚îú‚îÄ‚îÄ style.css
‚îÇ ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ ‚îî‚îÄ‚îÄ docker-compose.yml
‚îÇ
‚îú‚îÄ‚îÄ backend/ # Flask API –±–∞ ”©–≥”©–≥–¥–ª–∏–π–Ω —Å–∞–Ω
‚îÇ ‚îú‚îÄ‚îÄ app/
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ init.py
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ routes.py
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ models.py
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ database.py
‚îÇ ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ ‚îú‚îÄ‚îÄ docker-compose.yml
‚îÇ ‚îî‚îÄ‚îÄ requirements.txt
‚îÇ
‚îî‚îÄ‚îÄ data/ # OSM / GeoJSON ”©–≥”©–≥–¥”©–ª
‚îú‚îÄ‚îÄ ulaanbaatar.osm
‚îî‚îÄ‚îÄ places.geojson

##  “Æ–Ω–¥—Å—ç–Ω –±–æ–ª–æ–º–∂—É—É–¥

- **–ì–∞–∑—Ä—ã–Ω –∑—É—Ä–∞–≥** ‚Äì –£–ª–∞–∞–Ω–±–∞–∞—Ç–∞—Ä —Ö–æ—Ç—ã–Ω –∑—É—Ä–∞–≥ –¥—ç—ç—Ä “Ø–∑—ç—Ö –≥–∞–∑–∞—Ä, –±—É—É–¥–∞–ª, —Ä–µ—Å—Ç–æ—Ä–∞–Ω —Ö–∞—Ä—É—É–ª–∞—Ö
- **–•–∞–π–ª—Ç –±–∞ –∞–Ω–≥–∏–ª–∞–ª** ‚Äì –ì–∞–∑—Ä—ã–Ω —Ç”©—Ä–ª”©”©—Ä —à“Ø“Ø—Ö (–∂–∏—à—ç—ç –Ω—å: "photo spot", "restaurant")
- **–ó–∞–º—á–ª–∞–ª** ‚Äì –•–æ—ë—Ä —Ü—ç–≥–∏–π–Ω —Ö–æ–æ—Ä–æ–Ω–¥ –º–∞—Ä—à—Ä—É—Ç—ã–Ω —Ç–æ–æ—Ü–æ–æ
- **PostGIS** ‚Äì –ì–µ–æ ”©–≥”©–≥–¥–ª–∏–π–≥ SQL —Ç“Ø–≤—à–∏–Ω–¥ –±–æ–ª–æ–≤—Å—Ä—É—É–ª–∞–ª—Ç —Ö–∏–π—Ö

---



docker compose -f /Users/uugnaa/Downloads/2025-3A/GIS/biydaalt/backend/docker-compose.yml up -d pgadmin




NAMES              PORTS
pgadmin            0.0.0.0:5050->5050/tcp, [::]:5050->5050/tcp
backend            0.0.0.0:5001->5001/tcp, [::]:5001->5001/tcp
osrm               
postgis            0.0.0.0:5432->5432/tcp, [::]:5432->5432/tcp
tourist_frontend   0.0.0.0:8080->80/tcp, [::]:8080->80/tcp


frontend: localhost:8080    password: admin
backend: localhost:5001     
pgadmin: localhost:5050         email: admin@example.com       password: admin
database: port: 5432      password: postgres